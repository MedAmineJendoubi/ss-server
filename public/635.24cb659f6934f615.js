"use strict";(self.webpackChunksuper_service=self.webpackChunksuper_service||[]).push([[635],{8635:(h,l,r)=>{r.r(l),r.d(l,{SignInModule:()=>x});var a=r(1382),n=r(9133),e=r(1514),g=r(7919),d=r(4404),m=r(6019);function c(o,i){if(1&o&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.loginError," ")}}function p(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",7),e._UZ(1,"input",8),e.TgZ(2,"div",9),e.TgZ(3,"div"),e.TgZ(4,"label",10),e._uU(5,"T\xe9l\xe9phone"),e.qZA(),e._UZ(6,"input",11),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"label",12),e._uU(9,"Mot de passe"),e.qZA(),e._UZ(10,"input",13),e.qZA(),e.YNc(11,c,2,1,"div",14),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().login()}),e.TgZ(14,"span",16),e.O4$(),e.TgZ(15,"svg",17),e._UZ(16,"path",18),e.qZA(),e.qZA(),e._uU(17," VALIDER "),e.qZA(),e.qZA(),e.kcU(),e.TgZ(18,"div",19),e.TgZ(19,"div",20),e.TgZ(20,"a",21),e._uU(21," aller \xe0 la page d'acceuil "),e.qZA(),e.TgZ(22,"span",22),e.O4$(),e.TgZ(23,"svg",23),e._UZ(24,"path",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.loginForm),e.xp6(11),e.Q6J("ngIf",t.loginError)}}const f=[{path:"",component:(()=>{class o{constructor(t,s,u){this.fb=t,this._authService=s,this.router=u,this.formReady=!1,this.loginError=!1}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({telephone:[void 0,[n.kI.required]],password:[void 0,[n.kI.required]]}),this.formReady=!0}login(){this._authService.signIn(this.loginForm.getRawValue()).subscribe({next:t=>{t.message?this.loginError="Informations \xe9rronn\xe9es":"client"===t.user.role?this.router.navigate(["/home"]):"admin"===t.user.role?this.router.navigate(["/clients"]):this.loginError="Un erreur s'est produit"},error:t=>{console.log(t)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.qu),e.Y36(g.e),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sign-in"]],decls:10,vars:1,consts:[[1,"min-h-full","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["src","assets/icons/icon-152x152.png","alt","Super Services",1,"mx-auto","h-12","w-auto"],[1,"mt-0","mb-4","text-center"],[1,"mt-6","text-center","text-1xl","font-black","text-blue-800"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],["class","mt-8 space-y-6",3,"formGroup",4,"ngIf"],[1,"mt-8","space-y-6",3,"formGroup"],["type","hidden","name","remember","value","true"],[1,"rounded-md","shadow-sm"],["for","email-telephone",1,"sr-only"],["formControlName","telephone","id","telephone","name","telephone","type","telephone","autocomplete","off","placeholder","T\xe9l\xe9phone",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],["for","mot-de-passe",1,"sr-only"],["formControlName","password","id","mot-de-passe","name","mot-de-passe","type","mot-de-passe","placeholder","Mot de passe",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","focus:z-10","sm:text-sm"],["class","bg-red-200 relative text-left text-red-500 text-sm mt-3 py-2 px-3 rounded-lg",4,"ngIf"],[1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-indigo-500","group-hover:text-indigo-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],[1,"flex","items-center","justify-end"],[1,"text-sm","flex","justify-center"],["href","#",1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-indigo-500","group-hover:text-indigo-400"],["fill-rule","evenodd","d","M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z","clip-rule","evenodd"],[1,"bg-red-200","relative","text-left","text-red-500","text-sm","mt-3","py-2","px-3","rounded-lg"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"img",2),e.TgZ(4,"div",3),e.TgZ(5,"span",4),e._uU(6," Super Services "),e.qZA(),e.qZA(),e.TgZ(7,"h2",5),e._uU(8," LOGIN "),e.qZA(),e.qZA(),e.YNc(9,p,25,2,"form",6),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("ngIf",s.formReady))},directives:[m.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[""]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.Bz.forChild(f),a.m]]}),o})()}}]);